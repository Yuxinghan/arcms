#set($layout = "/layout/blank.vm")
<!-- 百度 文本编辑器 -->
<div id="web">
    <div class="row">
        <div class="col-xs-12">
            <div class="table-responsive">
                <div class="BoxStyleA">
                    <div class="breadcrumbs" id="breadcrumbs">
                        <i class="modal-logo interact"></i>
                        <ul class="breadcrumb" style="margin-left: 2px">
                            <li></li>
                            <li>内容管理</li>
                            <li class="active">添加内容</li>
                        </ul>
                        <!-- .breadcrumb -->
                    </div>
                </div>
                <div>&nbsp;</div>
                <div class="BoxStyleA">
                    <br/>

                    <form class="form-horizontal" role="form" method="post" enctype="multipart/form-data" id="addContent"
                          action="${rc.contextPath}/upload">
                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right" for="form-field-1">文章标题(<font
                                    color="red">*</font>)：</label>

                            <div class="col-sm-9">
                                <input type="text" id="title" placeholder="" class="col-xs-12 col-sm-7"
                                       name="title" class="required"/>
                            </div>
                            <div class="Validform_checktip"></div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right" for="form-field-1">文章顺序(<font
                                    color="red">*</font>)：</label>

                            <div class="col-sm-9">
                                <input type="text" id="sort" placeholder="" class="col-xs-12 col-sm-7"
                                       name="sort" class="required"/>
                            </div>
                            <div class="Validform_checktip"></div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right" for="form-field-1">发布状态(<font
                                    color="red">*</font>)：</label>

                            <div class="col-sm-9" style="text-align: left">
                                <select name="status">
                                    <option value="">请选择</option>
                                    <option value="published">发布</option>
                                    <option value="unpublish">未发布</option>
                                </select>
                            </div>
                            <div class="Validform_checktip"></div>
                        </div>
                        <div class="space-4"></div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right" for="form-field-2">位置(<font
                                    color="red">*</font>)：</label>

                            <div class="col-sm-9" style="text-align: left">
                                <select name="articlePosition">
                                    <option value="">请选择</option>
                                    <option value="user">用户端</option>
                                    <option value="seller">商家段</option>
                                    <option value="heart">夺宝</option>
                                </select>
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right" for="form-field-1">文章类型(<font
                                    color="red">*</font>)：</label>

                            <div class="col-sm-9" style="text-align: left">
                                <select name="type">
                                    <option value="">请选择</option>
                                    <option value="article">文章</option>
                                    <option value="advertisement">广告</option>
                                    <option value="icard_service">爱卡服务</option>
                                    <option value="recommen_rules">推荐规则</option>
                                    <option value="payment_help">支付帮助</option>
                                    <option value="about_icard">关于我的卡</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group" id="linkUrl" style="display:none">
                            <label class="col-sm-3 control-label no-padding-right" for="form-field-1">链接<font
                                    color="red">*</font>)：</label>

                            <div class="col-sm-9">
                                <input type="text" id="linkUrl" placeholder="" class="col-xs-12 col-sm-7"
                                       name="linkUrl" class="required"/>
                            </div>
                            <div class="Validform_checktip"></div>
                        </div>
                        <div class="form-group" style="margin-bottom: 40px;display: none" id="banner">
                            <label class="col-sm-3 control-label no-padding-right" for="form-field-1">图片(<font
                                    color="red">*</font>)：</label>

                            <div class="col-sm-9" style="text-align: left">
                                <div style="position: relative;float: left;width: 70px;height: 30px;text-align: center;border-radius: 2px;background-color: #428bca;">
                                    <a style="color: #fff;font-size: 14px;line-height: 30px;">选择</a>

                                    <div style="position: absolute;top:0;left:0;">
                                        <input type="file" name="file" id="file"
                                               style="width: 100px; height: 30px;background: rgb(255, 255, 255) none repeat scroll 0% 0%;filter:alpha(opacity:0);opacity: 0;"
                                               onchange="getName(this,'thumb');"/>
                                    </div>
                                </div>
                                <span class="thumb"
                                      style="display: block;float: left;margin-left: 5px;margin-top: 5px;"></span>
                                <span id="banner_content" style="color: blue;position: absolute;top: 40px;left:10px;">图片规格: 220*150, 不超过1M, 支持jpg,jpeg,png,bmp,gif格式</span>
                            </div>
                        </div>

                        <div class="form-group" id="content_detail">
                            <label class="col-sm-3 control-label no-padding-right" for="form-field-1">内容详情(<font
                                    color="red">*</font>)：</label>

                            <div class="col-sm-9" style="text-align: left">
                                <script id="contentDetail" type="text/plain" style="width:90%; height:300px;"
                                        name="contentDetail"></script>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right" for="form-field-1"></label>

                            <div class="col-sm-9" style="text-align: left">
                                <button class="btn btn-info" type="button" onclick="submitForm('uf');return false;">
                                    <i class="icon-ok bigger-110"></i>
                                    保存
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    //实例化编辑器
    //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
    //    var ue = UE.getEditor('editor');
    var contentDetail = new baidu.editor.ui.Editor();
    contentDetail.render("contentDetail");

//    createToken('uf');

    function getName(element, className) {
        var name = element.value;
        var pos = name.lastIndexOf("\\");
        var str = name.substring(pos + 1);

        $('.' + className).html(str);
    }

</script>
<script type="text/javascript" charset="utf-8" src="${rc.contextPath}/media/js/admin/content/content.js"></script>
